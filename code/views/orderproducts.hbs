<!-- This file was written while following the starter code guide -->
<!-- Parts of this file were adapted from the example html provided in the project step 3 instructions -->

<!-- OrderProductDetails -->

<!-- Include jQuery library -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<h1>OrderProductDetails</h1>

{{!-- Create a table to display order product details--}}
<table id="opd-table" border="1" cellpadding="5">

    <thead>
        <tr>
            <th>Order ID</th>
            <th>Order Date</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Product Name</th>
            <th>Per Unit</th>
            <th>quantity</th>

            <th>total</th>
        </tr>
    </thead>

    <tbody>
        {{#each data}}
        <tr>
            <td>{{this.orderID}}</td>
            <td>{{this.orderDate}}</td>
            <td>{{this.firstName}}</td>
            <td>{{this.lastName}}</td>
            <td>{{this.productName}}</td>
            <td>{{this.perUnit}}</td>
            <td>{{this.quantity}}</td>
            <td>{{this.total}}</td>
            <td><button onclick="deleteOpd({{this.orderID}}, {{this.productID}})">Delete</button></td>
        </tr>
        {{/each}}
    </tbody>
</table>

{{!-- Form to add a record to the table  --}}
<h2>Adding Data with form</h2>
<p>To add a new order product detail, please enter their information below and click 'Submit'!</p>
<form id="add-opd-form" method="POST" action="/add-opd-form">
    <label for="input-orderid">Order ID: </label>
    <select name="input-orderid" id="input-orderid">
        <option value="">Select a orderID: </option>
        {{#each orders}}
        <option value="{{this.orderID}}">{{this.orderID}}</option>
        {{/each}}
    </select>
    
    <select name="input-productid" id="input-productid">
        <option value="">Select a product: </option>
        {{#each products}}
        <option value="{{this.productID}}">{{this.productName}}</option>
        {{/each}}
    </select>

    <label for="input-quantity">Quantity: </label>
    <input type="number" name="input-quantity" id="input-quantity" min="1">

    <input type="submit">
</form>

<!-- Include JavaScript file for deleting order product details -->
<script src="./js/delete_opd.js"></script>

{{!-- Form to update a record in the table  --}}
<h2>Update quantity of specific entry</h2>
<form id="update-opd-form-ajax">
    <label for="input-orderid">Order ID: </label>
    <select name="input-orderid" id="input-orderid-update">
        <option value="">Select a orderID: </option>
        {{#each orders}}
        <option value="{{this.orderID}}">{{this.orderID}}</option>
        {{/each}}
    </select>
    
    <select name="input-productid" id="input-productid-update">
        <option value="">Select a product: </option>
        {{#each products}}
        <option value="{{this.productID}}">{{this.productName}}</option>
        {{/each}}
    </select>

    <label for="input-quantity">New quantity: </label>
    <input type="number" name="input-quantity" id="input-quantity-update" min="1">

    <input type="submit">
</form>

<!-- Include JavaScript file for updating order product details -->
<script src="./js/update_opd.js"></script>
